# 表情包查找器 (MEMEFinder)

一个基于OCR和情绪分析的智能表情包管理和搜索工具。

## 功能特性

- ✅ **图源管理**: 支持添加多个图片文件夹作为图源
- ✅ **自动扫描**: 启动时自动检测图源更新，发现新图片
- 🚧 **OCR识别**: 使用PaddleOCR识别图片中的文字（下一步实现）
- 🚧 **情绪分析**: 基于PaddleNLP Senta进行情绪二分类（正向/负向/中性）（下一步实现）
- 🚧 **智能过滤**: 自动过滤水印和网址内容（下一步实现）
- 🚧 **模糊搜索**: 通过文本和情绪快速查找表情包（下一步实现）
- ✅ **Windows GUI**: 友好的图形化界面

## 安装说明

### 1. 安装依赖

```powershell
# 安装基础依赖
pip install -r requirements.txt
```

### 2. 运行程序

```powershell
# 启动Windows GUI版本
python meme_finder_gui.py
```

## 使用指南

### 第一步：添加图源

1. 打开程序后，在"图源管理"标签页点击"➕ 添加图源文件夹"
2. 选择包含表情包的文件夹
3. 可以添加多个文件夹作为图源

### 第二步：扫描图片

1. 点击"🔍 扫描新图片"按钮
2. 程序会扫描所有启用的图源文件夹
3. 自动识别新增的图片并添加到数据库

### 第三步：处理图片（开发中）

1. 切换到"图片处理"标签页
2. 点击"▶️ 开始处理"
3. 程序会自动进行OCR识别和情绪分析

### 第四步：搜索图片（开发中）

1. 切换到"图片搜索"标签页
2. 输入关键词或选择情绪类型
3. 点击"🔍 搜索"查看结果
4. 双击结果可打开图片

## 项目结构

```
MEMEFinder/
├── meme_finder_gui.py      # Windows GUI主程序
├── ocr_cli.py              # OCR命令行工具
├── requirements.txt        # 依赖包列表
├── README.md              # 项目说明
├── meme_finder.db         # SQLite数据库（运行后自动创建）
└── imgs/                  # 测试图片
```

## 数据库结构

### image_sources 表（图源）
- `id`: 主键
- `folder_path`: 文件夹路径
- `added_time`: 添加时间
- `last_scan_time`: 最后扫描时间
- `enabled`: 是否启用

### images 表（图片）
- `id`: 主键
- `file_path`: 图片文件路径
- `file_hash`: 文件MD5哈希值（去重）
- `source_id`: 所属图源ID
- `ocr_text`: OCR识别原始文本
- `filtered_text`: 过滤后的文本
- `emotion`: 情绪分类（正向/负向/中性）
- `emotion_positive`: 正向情绪分数
- `emotion_negative`: 负向情绪分数
- `added_time`: 添加时间
- `processed`: 是否已处理

## 开发计划

### ✅ 第一阶段：基础框架（已完成）
- [x] Windows GUI界面设计
- [x] 数据库设计和实现
- [x] 图源管理功能
- [x] 图片扫描和去重

### 🚧 第二阶段：核心功能（进行中）
- [ ] 集成PaddleOCR识别
- [ ] 水印和网址过滤
- [ ] PaddleNLP Senta情绪分析
- [ ] 批量处理优化

### 📋 第三阶段：增强功能
- [ ] 图片预览功能
- [ ] 导出搜索结果
- [ ] 配置文件管理
- [ ] 性能优化

### 🎯 第四阶段：高级功能
- [ ] Web界面版本
- [ ] 相似图片检测
- [ ] 标签系统
- [ ] 批量导出

## 技术栈

- **GUI框架**: tkinter (Python标准库)
- **数据库**: SQLite3
- **OCR引擎**: PaddleOCR 3.x
- **情绪分析**: PaddleNLP Senta
- **图像处理**: PIL, OpenCV
- **深度学习**: PaddlePaddle

## 注意事项

1. **文件哈希**: 使用MD5哈希值进行图片去重，即使同一张图片在不同位置也只会记录一次
2. **增量扫描**: 每次扫描只处理新增的图片，提高效率
3. **数据持久化**: 所有数据保存在本地SQLite数据库，不会上传到云端
4. **性能考虑**: 建议单次处理图片数量不超过1000张

## 常见问题

### Q: 如何删除图源？
A: 在图源列表中选中要删除的图源，点击"🗑️ 删除选中"按钮。注意：这会同时删除该图源的所有图片记录。

### Q: 如何暂时禁用某个图源？
A: 右键点击图源，选择"启用/禁用"，被禁用的图源不会参与扫描和处理。

### Q: 数据库文件在哪里？
A: 数据库文件`meme_finder.db`位于程序运行目录，可以使用SQLite工具打开查看。

## 开发者

表情包查找器 - 让查找表情包变得简单！

## 许可证

MIT License
